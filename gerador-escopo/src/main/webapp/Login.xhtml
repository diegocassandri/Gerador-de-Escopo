<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Login</title>
	<h:outputStylesheet library="prodama" name="estilo.css" />
</h:head>

<h:body>

	<div id="login-dialog">
		<h1>Controle de Acesso</h1>

		<h:form id="frm">
			<p:messages autoUpdate="true" />

			<h:panelGrid columns="2" styleClass="grid-login">
				<p:outputLabel value="Usuário" for="usuario" />
				<p:inputText id="usuario" size="20" value="#{loginBean.nomeUsuario}" />

				<p:outputLabel value="Senha" for="senha" />
				<p:password id="senha" size="20" value="#{loginBean.senha}" />

				<p:outputLabel />
				<p:commandButton value="Acessar" action="#{loginBean.login}" />
			</h:panelGrid>
		</h:form>
		
		<h:form id="frmAlteracao">
			<p:dialog id="alteracaoSenha-Dialog" widgetVar="alteracaoSenhaDialog" closable="false"
			resizable="false" modal="true">
				<p:messages id="msgs-alterarSenha" />
				<h3 style="margin-top: 0">Alterar senha do Usuário</h3>
				<h:panelGrid columns="2" id="painelAlteracaoSenha">
					<p:outputLabel value="Senha" for="senha" />
					<p:password id="senha" feedback="true" inline="true"
						redisplay="true" promptLabel="Digite uma senha segura"
						goodLabel="Boa" weakLabel="Razoável" strongLabel="Excelente"
						value="#{loginBean.usuarioLogin.senha}" />
					<p:outputLabel value="Confirmar senha" for="senha2" />
					<p:password id="senha2" redisplay="true" 
					value="#{loginBean.confirmacaoSenha}" />
					<p:commandButton value="Salvar" style="margin-top:10px"
						action="#{loginBean.alteraSenha}"
						process="alteracaoSenha-Dialog" update="msgs-alterarSenha"
						oncomplete="if (!args.validationFailed) PF('alteracaoSenhaDialog').hide()" />
				</h:panelGrid>
			</p:dialog>
		</h:form>
	</div>
</h:body>

</html>