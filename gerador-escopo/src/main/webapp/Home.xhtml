<ui:composition template="/WEB-INF/template/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="titulo">Gerenciamento de Escopo</ui:define>

	<ui:define name="corpo">
		<br />
		<br />
		<br />Seja bem-vindo!<br />
		<br />
		<br />
			
		<h:form id="frm">
		<p:messages id="msgs" />
			<p:panelGrid columns="2">
				<p:outputLabel value="empresa" for="empresa" />
				<h:panelGroup>
					<p:inputText id="empresa"
						value="#{UsuarioLogin.EmpresaSelecionada.razaoSocial}"
						readonly="#{facesContext.currentPhaseId.name eq 'RENDER_RESPONSE'}" />

					<p:commandButton icon="ui-icon-search" title="Pesquisa"
						action="#{selecaoEmpresaBean.abrirDialogo}" process="@this"
						update="@none">
						<p:ajax event="dialogReturn"
							listener="#{UsuarioLogin.EmpresaSelecionada}" process="@this"
							update="empresa" />
						<p:resetInput target="empresa" />
					</p:commandButton>
					
					<p:commandButton icon="ui-icon-search" title="Pesquisa"
						action="#{selecaoEmpresaBean.abrirDialogo}" value="Pesquisar"
						process="@this" update="@none">
						<p:ajax event="dialogReturn" listener="#{cadastroEstadoBean.estadoSelecionado}"
							process="@this" update="@form" />
						<p:resetInput target="frm" />
					</p:commandButton>
					
				</h:panelGroup>
			</p:panelGrid>
			
			<p:dialog id="dialog" widgetVar="dialog"> a </p:dialog>
		</h:form>
	</ui:define>

</ui:composition>